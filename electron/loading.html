
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Conquerors: Dominion</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #0f0f13;
            color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            background-image: radial-gradient(circle at 50% 50%, #1a1a2e 0%, #0f0f13 100%);
        }

        .loader-container {
            text-align: center;
            width: 80%;
            max-width: 600px;
        }

        .title {
            font-size: 3rem;
            margin-bottom: 3rem;
            font-weight: 800;
            letter-spacing: 4px;
            text-transform: uppercase;
            background: linear-gradient(135deg, #ffd700 0%, #ff8c00 50%, #ff4500 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 15px rgba(255, 140, 0, 0.4));
            animation: pulse-title 3s infinite ease-in-out;
        }

        .status-container {
            height: 40px;
            margin-bottom: 1rem;
        }

        .status {
            font-size: 1.2rem;
            color: #aaa;
            font-weight: 300;
            transition: color 0.3s;
        }

        .error {
            color: #ff4444;
            font-weight: bold;
            animation: shake 0.5s;
        }

        /* Rocket Progress Bar Container */
        .progress-track {
            position: relative;
            width: 100%;
            height: 6px;
            background: #2a2a35;
            border-radius: 10px;
            margin: 2rem 0;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.5);
        }

        /* The actual progress fill */
        .progress-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff4500, #ff8c00, #ffd700);
            border-radius: 10px;
            transition: width 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            box-shadow: 0 0 10px rgba(255, 140, 0, 0.5);
        }

        /* The Rocket Icon */
        .rocket {
            position: absolute;
            top: 50%;
            right: -15px; /* Offset to center the rocket on the tip */
            transform: translateY(-50%) rotate(45deg);
            font-size: 2rem;
            filter: drop-shadow(0 0 5px rgba(255, 165, 0, 0.8));
            transition: right 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            z-index: 10;
        }

        /* Thruster effect */
        .rocket::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: -5px;
            width: 10px;
            height: 10px;
            background: radial-gradient(circle, #fff, #ffaa00, transparent);
            border-radius: 50%;
            opacity: 0.8;
            animation: thrust 0.1s infinite alternate;
            transform: rotate(-45deg);
        }

        @keyframes pulse-title {
            0%, 100% { filter: drop-shadow(0 0 15px rgba(255, 140, 0, 0.4)); }
            50% { filter: drop-shadow(0 0 25px rgba(255, 140, 0, 0.7)); }
        }

        @keyframes thrust {
            0% { transform: scale(0.8) rotate(-45deg); opacity: 0.5; }
            100% { transform: scale(1.2) rotate(-45deg); opacity: 1; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    </style>
</head>
<body>
    <div class="loader-container">
        <div class="title">Conquerors: Dominion</div>
        
        <div class="status-container">
            <div class="status" id="status-text">Preparing launch sequence...</div>
        </div>

        <div class="progress-track">
            <div class="progress-fill" id="progress-fill">
                <div class="rocket">ðŸš€</div>
            </div>
        </div>
    </div>

    <script>
        const statusEl = document.getElementById('status-text');
        const fillEl = document.getElementById('progress-fill');

        function updateProgress(percent) {
            // Clamp between 0 and 100
            const p = Math.min(100, Math.max(0, percent));
            fillEl.style.width = p + '%';
        }

        function updateStatus(text, isError = false) {
            statusEl.textContent = text;
            if (isError) {
                statusEl.className = 'status error';
                // Stop rocket thrust if error? optional.
            } else {
                statusEl.className = 'status';
            }
        }

        // Use the exposed API
        if (window.api) {
            window.api.onStatus((text) => updateStatus(text));
            window.api.onProgress((percent) => updateProgress(percent));
            window.api.onError((text) => updateStatus("ERROR: " + text, true));
        } else {
            // Fallback for browser preview without electron
            let p = 0;
            setInterval(() => {
                p += 1;
                if(p > 100) p = 0;
                updateProgress(p);
            }, 100);
        }
    </script>
</body>
</html>
